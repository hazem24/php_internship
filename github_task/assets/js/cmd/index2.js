var checkLog=processFile+"~tweet/logStatus";$(document).ready(function(e){function t(){t=1==t?2:1,$(".favicon").attr("href","favicon"+t+".png")}function o(){var e=window.location.pathname.replace("/","").split("/")[0];console.log(e),""!=e&&$.inArray(e,d)>=0&&(p=e),""!=e&&$.inArray(e,d)>=0&&(p=e,r($.inArray(e,d))),""==e&&n("تنبيه جديد لك","What would you like to access?")}function n(e,t){var o=new Date,n=(o.getHours()<10?"0":"")+o.getHours(),a=(o.getMinutes()<10?"0":"")+o.getMinutes(),i=(o.getSeconds()<10?"0":"")+o.getSeconds(),r="whitet",s="";switch(e[0]){case"!":s=" important",e=e.substr(1)}switch(e){case"تنبيه من جو تريند":r="redt";break;case"Server":case"تنبيه جديد لك":r="bluet";break;case"User":r="greent",s=" selft"}for("A"==t[0]&&"!"==t[1]&&(t=(t=t.substr(2)).replace(/ /g," ")),"E"==t[0]&&"!"==t[1]&&(t=t.substr(2),s=" important");t.indexOf("](")>=0;){var l=/\(([^)]+)\)/.exec(t)[1],c=/\[([^)]+)\]/.exec(t)[1],h=!1;"^"==c[0]&&(h=!0,c=c.substr(1));var u=t.indexOf("["),d=t.indexOf(")");t=h?t.replace(t.substring(u,d+1),"").splice(u,0,'<a href="'+c+'" target="_blank">'+l+"</a>"):t.replace(t.substring(u,d+1),"").splice(u,0,'<a href="'+c+'">'+l+"</a>")}for(var p=!0,g=0,f=0;f<t.length;f++)"*"==t[f]&&"*"!=t[f-1]&&"*"!=t[f+1]&&g++;for(;t.indexOf("*")>=0;){b=t.indexOf("*");if(t=t.replace("*",""),t=p?t.splice(b,0,"<b>"):t.splice(b,0,"</b>"),(p=!p)&&g<=1)break}for(var m=!0,w=0,f=0;f<t.length;f++)"*"==t[f]&&"*"!=t[f-1]&&"*"!=t[f+1]&&w++;for(;t.indexOf("**")>=0;){var b=t.indexOf("**");if(t=t.replace("**",""),t=m?t.splice(b,0,"<u>"):t.splice(b,0,"</u>"),(m=!m)&&w<=1)break}$(".stream").append('<div class="line"><p class="time">['+n+":"+a+":"+i+']</p><p class="name '+r+'">'+e+'</p><p class="information'+s+'">'+t+"</p></div>"),$(document).scrollTop($(document).height()-$(window).height())}function a(){var e=new Date,t=e.getHours(),o=e.getMinutes(),n=e.getSeconds();t<10&&(t="0"+t),o<10&&(o="0"+o),n<10&&(n="0"+n);var a="["+t+":"+o+":"+n+"]";a!=g&&(g=a,$(".editline .time").text(g))}function i(e,t,o){switch(o[0]){case"/help":case"help":for(var a=0;a<l.length;a++)output=l[a][0]+" : "+l[a][1],n("تنبيه جديد لك",output);break;case"/gl":window.history.pushState(p,"InpagePage","landing"==p?"/":"/"+p);break;case"/clear":$(".stream").text("");break;case"/nav":$.inArray(o[1],d)>=0?(n("تنبيه من جو تريند","You are now in "+(p=o[1])),r($.inArray(o[1],d))):n("تنبيه جديد لك","'"+o[1]+"' does not exist.");break;case"/list":$.each(d,function(e,t){n("تنبيه جديد لك","> "+t)});break;case"/login":o.length>=3?(n("تنبيه جديد لك","Attempting to login to "+o[1]+" with "+Array(o[2].length+1).join("â€¢")),f=!1,setTimeout(s,2e4)):n("تنبيه جديد لك","Not enough arguments to log in, you need a USERNAME and a PASSWORD.");break;default:output="Unrecognised command '"+o[0]+"'.",n("تنبيه جديد لك",output)}}function r(e){$.each(u[e],function(t,o){o!=d[e]&&n("تنبيه من جو تريند",o)})}function s(){f||n("تنبيه جديد لك","E![LOGIN] No Return Recieved")}console.clear();var l=[["/help","Show commands"],["/list","List all pages on the تنبيه من جو تريند"],["/nav &lt;location&gt;","Navigate to location"],["/gl","Generate a url for the current page - [^http://CMD.io/](This doesn't work in an iframe, try it at *CMD.io*) outputs something like [^http://CMD.io/connect](*CMD.io/connect*)"],["/clear","Clear the console"],["/login &lt;username&gt; &lt;password&gt;","Login to your account - This is not set up and when implemeneted it'll be '/login username' then request password without printing into the cmd prompt"],["/upload","Upload file, must be logged in."]],c=[],h=0,u=[["index","Welcome to CMD.io","Simply, this is just a sandbox in which to add to; no real point - a couple of features that I plan to add though:","URL shortner and open tracker, just enter a URL into the command line and press enter and you will get 2 links - 1 which looks like [http://CMD.io/XXXXXX](http://CMD.io/XXXXXX) and another [http://CMD.io/u/XXXXXX](http://CMD.io/u/XXXXXX) : they will both forward but the second will show a preview of the full url so they know where you are going.","You can also save small messages with `/msg <string <160 chars>` and you will get a url like [http://CMD.io/XXXXXX](http://CMD.io/XXXXXX)","Pressing Ctrl+v will paste the short text or image and you will get a link.","There will be accounts but likely given out rather than being able to register them whenever, this is a personal site so idk."],["about","About CMD.io","Personal power تنبيه من جو تريند for Finn 'CMD' Shackleton.","Will include some features which too are mainly for personal use: Link shortner, image host, pastebin and any sandbox testing","The colours have been taken from [https://github.com/Poorchop/darktooth-theme-ports/tree/8c852e8edde8df57d831dc8631493b0565fadbbc/hexchat-darktooth](Poorchop's Darktooth HexChat theme)","In the process of turning the تنبيه من جو تريند into a server sided thing, currently what you can read is in the [http://CMD.io/scripts.js](JavaScript file)!"],["connect","Connect with CMD","[mailto:_@CMD.io](Email _@CMD.io)","[skype:finn.shackleton](Skype)","[^http://steamcommunity.com/id/bananabutterscotchmaplepancakes](Steam) < Always available","[^https://codepen.io/OfficialAntarctica](Codepen)","[^http://everybodyedits.com/profiles/bbmp](Everybody Edits)"]],d=["index","about","connect"],p="CMD",g="";$(".editline .edit").keydown(function(e){var t=$(".editline .edit").text();if(console.log(e.which),13==e.which&&""!==t){var o=t.split(" ");"help"==o[0]&&(t="/"+t),$(".editline .edit").text(""),n("User",t),c[h]=t,h=c.length,$(".editline .edit").keydown(35),i(o[0],t,o)}38==e.which&&h>0&&(h--,$(".editline .edit").text(c[h])),40==e.which&&h<c.length&&(h++,$(".editline .edit").text(c[h]))});var f=!1;String.prototype.splice=function(e,t,o){return this.slice(0,e)+o+this.slice(e+Math.abs(t))},setInterval(a),console.clear(),console.log((new Date).getTime()),n("تنبيه من جو تريند","حاله عضويتك : تعمل."),n("تنبيه جديد لك","ستري جميع التفاصيل بالاسفل."),o(),n("تنبيه جديد لك","استخدم /clear لمسح الشاشه بالكامل."),setInterval(t,500),setInterval(function(){$.ajax({url:checkLog,type:"POST",dataType:"json",data:"checkLog=true&ajax=true",success:function(e){console.log(e.log),void 0!==e.log&&$.each(e.log,function(e,t){n("تنبيه جديد لك",t.log)})}})},5e3)});